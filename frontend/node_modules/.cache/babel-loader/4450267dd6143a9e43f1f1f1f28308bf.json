{"ast":null,"code":"import _toConsumableArray from \"/home/ivan/react-mesto-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/ivan/react-mesto-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ivan/react-mesto-api-full/frontend/src/components/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport { Route, Routes, useNavigate, useLocation } from 'react-router-dom';\nimport { api } from '../utils/Api';\n/* import api from '../utils/Api'; */\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport Register from '../components/Register';\nimport Login from '../components/Login';\nimport RequireAuth from './ProtectedRoute';\nimport * as auth from '../utils/auth';\nimport InfoTooltip from '../components/InfoTooltip';\n\nfunction App() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loggedIn = _useState2[0],\n      setLoggedIn = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userEmail = _useState4[0],\n      setUserEmail = _useState4[1];\n\n  var navigate = useNavigate();\n  var location = useLocation();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isEditProfilePopupOpen = _React$useState2[0],\n      setIsEditProfilePopupOpen = _React$useState2[1];\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isAddCardPopupOpen = _React$useState4[0],\n      setisAddCardPopupOpen = _React$useState4[1];\n\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isAvatarProfilePopupOpen = _React$useState6[0],\n      setisAvatarProfilePopupOpen = _React$useState6[1];\n\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n\n  var _React$useState7 = React.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      selectedCard = _React$useState8[0],\n      setSelectedCard = _React$useState8[1];\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      isImagePopupOpenen = _React$useState10[0],\n      setIsImagePopupOpenen = _React$useState10[1]; ////////////////////////\n\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      isSucceed = _React$useState12[0],\n      setIsSucceed = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      isInfoTooltipOpen = _React$useState14[0],\n      setIsInfoTooltipOpen = _React$useState14[1];\n\n  function handleInfoTooltipPopupOpen() {\n    setIsInfoTooltipOpen(!isInfoTooltipOpen);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n    setIsInfoTooltipOpen(false);\n  } ////////////////////////////////////////////\n\n  /*  useEffect(() => {\n     if (loggedIn) {\n       Promise.all([api.getUserInfo(), api.getInitialCards()])\n         .then(([user, items]) => {\n           setCurrentUser(user);\n           setCards(items);\n           navigate('/');\n         })\n         .catch((err) => {\n           console.log(err);\n         });\n     }\n   }, [loggedIn]); */\n\n  /*  useEffect(() => {\n     tokenCheck();\n   }, []); */\n\n\n  var _React$useState15 = React.useState({}),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      currentUser = _React$useState16[0],\n      setCurrentUser = _React$useState16[1];\n  /*  React.useEffect(() => {\n     if (loggedIn) {\n       api\n         .getUserInfo()\n         .then((data) => {\n           setCurrentUser(data);\n         })\n         .catch((err) => console.log(err));\n     }\n   }, [loggedIn]); */\n\n\n  var _React$useState17 = React.useState([]),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      cards = _React$useState18[0],\n      setCards = _React$useState18[1];\n  /* React.useEffect(() => {\n    if (loggedIn) {\n      api\n        .getInitialCards()\n        .then((data) => {\n          setCards(data);\n        })\n        .catch((err) => console.log(err));\n    } \n  }, [loggedIn]); */\n  ///////////////////////////////////////////\n\n\n  function handleCardLike(card) {\n    var isLiked = card.likes.some(function (i) {\n      return i._id === currentUser._id;\n    });\n\n    if (isLiked) {\n      api.deleteLike(card._id).then(function (newCard) {\n        setCards(function (state) {\n          return state.map(function (c) {\n            return c._id === card._id ? newCard : c;\n          });\n        });\n      }).catch(function (err) {\n        console.log(err);\n        return [];\n      });\n    } else {\n      api.addLike(card._id).then(function (newCard) {\n        setCards(function (state) {\n          return state.map(function (c) {\n            return c._id === card._id ? newCard : c;\n          });\n        });\n      }).catch(function (err) {\n        console.log(err);\n        return [];\n      });\n    }\n  } ////////////////\n\n\n  function handleEditUser(data) {\n    api.editProfile(data).then(function (data) {\n      setCurrentUser(data); //console.log(data);\n\n      closeAllPopups();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(data) {\n    api.addAvatar(data).then(function (data) {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  function handleAddPlace(data) {\n    api.addPlace(data).then(function (newCard) {\n      setCards([newCard].concat(_toConsumableArray(cards)));\n      closeAllPopups();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  var _React$useState19 = React.useState(false),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      isDeletePopupOpenen = _React$useState20[0],\n      setIsDeletePopupOpenen = _React$useState20[1];\n\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    setSelectedCard(card);\n  }\n\n  function handleDeletePlace(card) {\n    api.deletePost(card._id).then(function () {\n      setCards(function (state) {\n        return state.filter(function (c) {\n          return c._id !== card._id;\n        });\n      });\n      closeAllPopups();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  } /////////////1/////////////\n\n  /*  useEffect(() => {\n     handleTokenCheck(location.pathname);\n   }, []); */\n  /////////\n\n\n  useEffect(function () {\n    // проверка токена \n    handleTokenCheck(location.pathname); // запрос в API за пользовательскими данными\n\n    if (loggedIn) {\n      Promise.all([api.getUserData(), api.getInitialCards()]).then(function (res) {\n        setCurrentUser(res[0].data);\n        setCards(res[1]);\n      }).catch(function (err) {\n        console.log(err); // \"Что-то пошло не так: ...\"\n\n        return [];\n      });\n    }\n  }, [loggedIn]); ///////////\n\n  var handleTokenCheck = function handleTokenCheck(path) {\n    if (localStorage.getItem(\"jwt\")) {\n      var jwt = localStorage.getItem(\"jwt\"); // проверяем токен пользователя\n\n      auth.checkToken(jwt).then(function (res) {\n        if (res) {\n          console.log();\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          navigate(path);\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  var handleLogin = function handleLogin(email, password) {\n    auth.authorize(email, password).then(function (res) {\n      if (res.token) {\n        setLoggedIn(true);\n        setUserEmail(email);\n        localStorage.setItem('jwt', res.token);\n        navigate(\"/\"); // и переадресуем пользователя! \n      }\n    }).catch(function (err) {\n      console.log(err);\n      setIsSucceed(false);\n      handleInfoTooltipPopupOpen();\n    });\n  };\n\n  var handleLogout = function handleLogout(evt) {\n    evt.preventDefault();\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setUserEmail('');\n    navigate('/sign-in');\n  };\n\n  var handleRegister = function handleRegister(password, email) {\n    auth.register(email, password).then(function (res) {\n      if (res) {\n        setIsSucceed(true);\n        handleInfoTooltipPopupOpen();\n        navigate(\"/sign-in\");\n      }\n    }).catch(function (err) {\n      console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438 \".concat(err));\n      setIsSucceed(false);\n      handleInfoTooltipPopupOpen();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(CurrentUserContext.Provider, {\n    value: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RequireAuth, {\n      loggedIn: loggedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      nav: '/sign-in',\n      navStatus: 'Выйти',\n      emailUser: userEmail,\n      onLogout: handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Main, {\n      onEditProfile: handleEditProfileClick,\n      onAddPlace: handleAddCardClick,\n      onEditAvatar: handleAvatarProfileClick,\n      onCardClick: handleCardClick,\n      onCardLike: handleCardLike,\n      onCardDeleteClick: handleCardDeleteClick,\n      cards: cards,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 25\n      }\n    })))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/sign-up\",\n    element: /*#__PURE__*/React.createElement(Register, {\n      onRegister: handleRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/sign-in\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      onLogin: handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(InfoTooltip, {\n    isOpen: isInfoTooltipOpen,\n    onClose: closeAllPopups,\n    isSucceed: isSucceed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(EditProfilePopup, {\n    isOpen: isEditProfilePopupOpen,\n    onClose: closeAllPopups,\n    onEditUser: handleEditUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AddPopup, {\n    isOpen: isAddCardPopupOpen,\n    onClose: closeAllPopups,\n    onAddPost: handleAddPlace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(EditAvatarPopup, {\n    isOpen: isAvatarProfilePopupOpen,\n    onClose: closeAllPopups,\n    onUpdateAvatar: handleUpdateAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ImagePopup, {\n    isOpen: isImagePopupOpenen,\n    card: selectedCard,\n    onClose: closeAllPopups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DeletePopup, {\n    isOpen: isDeletePopupOpenen,\n    onClose: closeAllPopups,\n    card: selectedCard,\n    onDeletePlace: handleDeletePlace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/ivan/react-mesto-api-full/frontend/src/components/App.js"],"names":["React","useEffect","useState","Header","Main","Footer","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPopup","DeletePopup","Route","Routes","useNavigate","useLocation","api","CurrentUserContext","Register","Login","RequireAuth","auth","InfoTooltip","App","loggedIn","setLoggedIn","userEmail","setUserEmail","navigate","location","isEditProfilePopupOpen","setIsEditProfilePopupOpen","handleEditProfileClick","isAddCardPopupOpen","setisAddCardPopupOpen","handleAddCardClick","isAvatarProfilePopupOpen","setisAvatarProfilePopupOpen","handleAvatarProfileClick","selectedCard","setSelectedCard","handleCardClick","card","setIsImagePopupOpenen","isImagePopupOpenen","isSucceed","setIsSucceed","isInfoTooltipOpen","setIsInfoTooltipOpen","handleInfoTooltipPopupOpen","closeAllPopups","setIsDeletePopupOpenen","currentUser","setCurrentUser","cards","setCards","handleCardLike","isLiked","likes","some","i","_id","deleteLike","then","newCard","state","map","c","catch","err","console","log","addLike","handleEditUser","data","editProfile","handleUpdateAvatar","addAvatar","handleAddPlace","addPlace","isDeletePopupOpenen","handleCardDeleteClick","handleDeletePlace","deletePost","filter","handleTokenCheck","pathname","Promise","all","getUserData","getInitialCards","res","path","localStorage","getItem","jwt","checkToken","email","handleLogin","password","authorize","token","setItem","handleLogout","evt","preventDefault","removeItem","handleRegister","register"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport { Route, Routes, useNavigate, useLocation } from 'react-router-dom';\nimport {api}  from '../utils/Api';\n/* import api from '../utils/Api'; */\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport Register from '../components/Register';\nimport Login from '../components/Login';\nimport RequireAuth from './ProtectedRoute';\nimport * as auth from '../utils/auth';\nimport InfoTooltip from '../components/InfoTooltip';\n\nfunction App() {\n  \n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\n  ////////////////////////\n  const [isSucceed, setIsSucceed] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  function handleInfoTooltipPopupOpen() {\n    setIsInfoTooltipOpen(!isInfoTooltipOpen);\n  }\n  \n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n    setIsInfoTooltipOpen(false);\n  }\n  ////////////////////////////////////////////\n /*  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([user, items]) => {\n          setCurrentUser(user);\n          setCards(items);\n          navigate('/');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]); */\n\n /*  useEffect(() => {\n    tokenCheck();\n  }, []); */\n\n  const [currentUser, setCurrentUser] = React.useState({});\n /*  React.useEffect(() => {\n    if (loggedIn) {\n      api\n        .getUserInfo()\n        .then((data) => {\n          setCurrentUser(data);\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [loggedIn]); */\n  \n  const [cards, setCards] = React.useState([]);\n  /* React.useEffect(() => {\n    if (loggedIn) {\n      api\n        .getInitialCards()\n        .then((data) => {\n          setCards(data);\n        })\n        .catch((err) => console.log(err));\n    } \n  }, [loggedIn]); */\n  ///////////////////////////////////////////\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n          return [];\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n          return [];\n        });\n    }\n  } \n////////////////\n  function handleEditUser(data) {\n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        //console.log(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .addAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlace(data) {\n    api\n      .addPlace(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    setSelectedCard(card);\n  }\n  function handleDeletePlace(card) {\n    api\n      .deletePost(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n/////////////1/////////////\n /*  useEffect(() => {\n    handleTokenCheck(location.pathname);\n  }, []); */\n  /////////\n  useEffect(() => {\n    // проверка токена \n    handleTokenCheck(location.pathname);\n    // запрос в API за пользовательскими данными\n    if (loggedIn){\n      Promise.all([ \n      api.getUserData(),\n      api.getInitialCards()\n      ])\n      .then((res) => {\n        setCurrentUser(res[0].data);\n        setCards(res[1])\n      })\n      .catch((err) => {\n        console.log(err); // \"Что-то пошло не так: ...\"\n        return [];\n      })}\n  }, [loggedIn]);\n  ///////////\n\n  const handleTokenCheck = (path) => {\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\");\n    // проверяем токен пользователя\n      auth.checkToken(jwt).then((res) => {\n        if (res) {\n          console.log()\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          navigate(path);\n        }\n      })\n      .catch((err) => console.log(err));\n    }\n  };\n\n  const handleLogin = (email, password) => {\n    auth\n    .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          setLoggedIn(true);\n          setUserEmail(email);\n          localStorage.setItem('jwt', res.token);\n          navigate(\"/\"); // и переадресуем пользователя! \n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsSucceed(false);\n        handleInfoTooltipPopupOpen();\n      });\n  };\n\n  const handleLogout= (evt) => {\n    evt.preventDefault();\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setUserEmail('');\n    navigate('/sign-in')\n  }\n\n  const handleRegister = (password, email) => {\n    auth.register(email, password)\n      .then((res) => {\n        if (res) {\n          setIsSucceed(true);\n          handleInfoTooltipPopupOpen();\n          navigate(\"/sign-in\");\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка регистрации ${err}`);\n        setIsSucceed(false);\n        handleInfoTooltipPopupOpen();\n      });\n  }; \n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n          <Routes>\n            <>\n              <Route\n                path=\"/\"\n                element={\n                  <>\n                    <RequireAuth loggedIn={loggedIn}>\n                      <div>\n                        <Header \n                        nav={'/sign-in'}\n                        navStatus={'Выйти'} \n                        emailUser={userEmail} \n                        onLogout={handleLogout} \n                        />\n                        <Main \n                          onEditProfile={handleEditProfileClick}\n                          onAddPlace={handleAddCardClick}\n                          onEditAvatar={handleAvatarProfileClick}\n                          onCardClick={handleCardClick}\n                          onCardLike={handleCardLike}\n                          onCardDeleteClick={handleCardDeleteClick}\n                          cards={cards}\n                        />  \n                        <Footer />\n                      </div>\n                    </RequireAuth>\n                  </>\n                }\n              />  \n              <Route path=\"/sign-up\" element={<Register onRegister={handleRegister}/> } />\n              <Route path=\"/sign-in\" element={<Login onLogin={handleLogin}/>} />\n            </> \n          </Routes>\n          <InfoTooltip\n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups}\n            isSucceed={isSucceed}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onEditUser={handleEditUser}\n          />\n          <AddPopup\n            isOpen={isAddCardPopupOpen}\n            onClose={closeAllPopups}\n            onAddPost={handleAddPlace}\n          />\n          <EditAvatarPopup\n            isOpen={isAvatarProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <ImagePopup \n            isOpen={isImagePopupOpenen}\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n          <DeletePopup\n            isOpen={isDeletePopupOpenen}\n            onClose={closeAllPopups}\n            card={selectedCard}\n            onDeletePlace={handleDeletePlace}\n          />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}