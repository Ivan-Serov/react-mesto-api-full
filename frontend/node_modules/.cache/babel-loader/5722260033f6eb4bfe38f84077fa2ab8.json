{"ast":null,"code":"export var BASE_URL = 'http://localhost:3001'; //https://auth.nomoreparties.co/\n\nvar checkResult = function checkResult(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));\n  }\n};\n\nexport var register = function register(email, password) {\n  return fetch(\"\".concat(BASE_URL, \"/signup\"), {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password\n    })\n  }).then(checkResult);\n};\nexport var authorize = function authorize(email, password) {\n  return fetch(\"\".concat(BASE_URL, \"/signin\"), {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password\n    })\n  }).then(checkResult);\n};\nexport var checkToken = function checkToken(token) {\n  return fetch(\"\".concat(BASE_URL, \"/users/me\"), {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(checkResult);\n};","map":{"version":3,"sources":["/home/ivan/react-mesto-api-full/frontend/src/utils/auth.js"],"names":["BASE_URL","checkResult","res","ok","json","Promise","reject","status","register","email","password","fetch","method","headers","body","JSON","stringify","then","authorize","checkToken","token","Authorization"],"mappings":"AAAA,OAAO,IAAMA,QAAQ,GAAG,uBAAjB,C,CAAyC;;AAChD,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,GAAG,EAAI;AACzB,MAAIA,GAAG,CAACC,EAAR,EAAY;AACV,WAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,GAFD,MAEO;AACL,WAAOC,OAAO,CAACC,MAAR,iDAA0BJ,GAAG,CAACK,MAA9B,EAAP;AACD;AACF,CAND;;AAQA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC3C,SAAOC,KAAK,WAAIX,QAAJ,cAAuB;AACjCY,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACP,MAAAA,KAAK,EAALA,KAAD;AAAQC,MAAAA,QAAQ,EAARA;AAAR,KAAf;AAN2B,GAAvB,CAAL,CAQNO,IARM,CAQDhB,WARC,CAAP;AAQmB,CATd;AAUP,OAAO,IAAMiB,SAAS,GAAG,SAAZA,SAAY,CAACT,KAAD,EAAQC,QAAR,EAAqB;AAC1C,SAAOC,KAAK,WAAIX,QAAJ,cAAuB;AACjCY,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACP,MAAAA,KAAK,EAALA,KAAD;AAAQC,MAAAA,QAAQ,EAARA;AAAR,KAAf;AAN2B,GAAvB,CAAL,CAQNO,IARM,CAQDhB,WARC,CAAP;AASD,CAVI;AAYL,OAAO,IAAMkB,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AACnC,SAAOT,KAAK,WAAIX,QAAJ,gBAAyB;AACnCY,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB,kBAFT;AAGPQ,MAAAA,aAAa,mBAAYD,KAAZ;AAHN;AAF0B,GAAzB,CAAL,CAQNH,IARM,CAQDhB,WARC,CAAP;AASH,CAVQ","sourcesContent":["export const BASE_URL = 'http://localhost:3001';//https://auth.nomoreparties.co/\nconst checkResult = res => {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then(checkResult)};\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then(checkResult)\n  };\n\n  export const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    })\n    .then(checkResult)\n}"]},"metadata":{},"sourceType":"module"}