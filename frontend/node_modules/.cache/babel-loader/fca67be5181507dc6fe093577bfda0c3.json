{"ast":null,"code":"import _objectSpread from \"/home/ivan/react-mesto-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/ivan/react-mesto-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ivan/react-mesto-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { baseToken } from \"./constants\";\n\nvar Api = /*#__PURE__*/function () {\n  function Api(_ref) {\n    var url = _ref.url,\n        headers = _ref.headers;\n\n    _classCallCheck(this, Api);\n\n    this.checkResult = function (res) {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));\n      }\n    };\n\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _createClass(Api, [{\n    key: \"_getAuthHeader\",\n    value: function _getAuthHeader() {\n      var jwt = localStorage.getItem('jwt');\n      return jwt ? {\n        Authorization: \"Bearer \".concat(jwt)\n      } : {};\n    }\n  }, {\n    key: \"getUserInfo\",\n    value: function getUserInfo() {\n      return fetch(this._url + \"/users/me\", {\n        method: 'GET',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader()),\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"getInitialCards\",\n    value: function getInitialCards() {\n      return fetch(this._url + '/cards', {\n        method: 'GET',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader())\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"editProfile\",\n    value: function editProfile(data) {\n      return fetch(this._url + \"/users/me\", {\n        method: 'PATCH',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader()),\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"addPlace\",\n    value: function addPlace(data) {\n      return fetch(this._url + '/cards', {\n        method: 'POST',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader()),\n        body: JSON.stringify(data)\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"deletePost\",\n    value: function deletePost(cardId) {\n      return fetch(this._url + '/cards/' + cardId, {\n        method: 'DELETE',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader())\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"addLike\",\n    value: function addLike(cardId) {\n      return fetch(this._url + '/cards/' + cardId + '/likes/', {\n        method: 'PUT',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader())\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"deleteLike\",\n    value: function deleteLike(cardId) {\n      return fetch(this._url + '/cards/' + cardId + '/likes/', {\n        method: 'DELETE',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader())\n      }).then(this.checkResult);\n    }\n  }, {\n    key: \"addAvatar\",\n    value: function addAvatar(avatar) {\n      return fetch(this._url + '/users/me/avatar', {\n        method: 'PATCH',\n        headers: _objectSpread({}, this._headers, this._getAuthHeader()),\n        body: JSON.stringify(avatar)\n      }).then(this.checkResult);\n    }\n  }]);\n\n  return Api;\n}();\n/* class Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _getAuthHeader() {\n    const jwt = localStorage.getItem('jwt');\n    return jwt ? { Authorization: `Bearer ${jwt}` } : {};\n  }\n\n\n  checkResult(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      method: 'GET',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  editProfile(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      method: 'GET',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  addPlace(data) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  deletePost(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  addAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        avatar: data,\n      }),\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n}\n\nconst api = new Api({\n  url: 'http://localhost:3001',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api; */\n\n\nexport var api = new Api({\n  url: 'http://localhost:3002',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}); //https://nomoreparties.co/v1/cohort-28 // d0022a9e-a6be-4d9a-ab6e-3949875c7c34","map":{"version":3,"sources":["/home/ivan/react-mesto-api-full/frontend/src/utils/Api.js"],"names":["baseToken","Api","url","headers","checkResult","res","ok","json","Promise","reject","status","_url","_headers","jwt","localStorage","getItem","Authorization","fetch","method","_getAuthHeader","body","JSON","stringify","name","data","about","then","cardId","avatar","api"],"mappings":"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AAgC;AAC1CO,QAAAA,MAAM,EAAE,OADkC;AAE1Cf,QAAAA,OAAO,oBAAO,KAAKS,QAAZ,EAAyB,KAAKO,cAAL,EAAzB,CAFmC;AAG1CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeM,MAAf;AAHoC,OAAhC,CAAL,CAKNF,IALM,CAKD,KAAKtB,WALJ,CAAP;AAMD;;;;;AASH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,IAAMyB,GAAG,GAAG,IAAI5B,GAAJ,CAAQ;AACzBC,EAAAA,GAAG,EAAC,uBADqB;AAEzBC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAFgB,CAAR,CAAZ,C,CAKP","sourcesContent":["import { baseToken } from \"./constants\";\n\nclass Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n\n  _getAuthHeader() {\n    const jwt = localStorage.getItem('jwt');\n    return jwt ? { Authorization: `Bearer ${jwt}` } : {};\n  }\n  getUserInfo() {\n    return fetch(this._url +`/users/me`, {\n      method: 'GET',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    })\n    .then(this.checkResult);\n  }\n  getInitialCards() {\n    return fetch(this._url +'/cards', {\n      method: 'GET',\n      headers: { ...this._headers, ...this._getAuthHeader() },})\n    .then(this.checkResult);\n  }\n  editProfile(data){\n    return fetch(this._url +`/users/me`, {\n        method: 'PATCH',\n        headers: { ...this._headers, ...this._getAuthHeader() },\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about,\n        }),\n      })\n    .then(this.checkResult);\n  }\n  addPlace(data){\n    return fetch(this._url +'/cards', {\n      method: 'POST',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify(data)\n    })\n    .then(this.checkResult);\n  }\n  deletePost(cardId) {\n    return fetch(this._url + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    })\n    .then(this.checkResult);\n  }\n  addLike(cardId){\n    return fetch(this._url + '/cards/' + cardId+'/likes/', {\n      method: 'PUT',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    })\n    .then(this.checkResult);\n  }\n  deleteLike(cardId){\n    return fetch(this._url + '/cards/' + cardId+ '/likes/', {\n      method: 'DELETE',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    })\n    .then(this.checkResult);\n  }\n  addAvatar(avatar){\n    return fetch(this._url +'/users/me/avatar', {\n      method: 'PATCH',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify(avatar)\n    })\n    .then(this.checkResult);\n  }\n  checkResult = res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n}\n/* class Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _getAuthHeader() {\n    const jwt = localStorage.getItem('jwt');\n    return jwt ? { Authorization: `Bearer ${jwt}` } : {};\n  }\n\n\n  checkResult(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      method: 'GET',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  editProfile(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      method: 'GET',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  addPlace(data) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  deletePost(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n\n  addAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: { ...this._headers, ...this._getAuthHeader() },\n      body: JSON.stringify({\n        avatar: data,\n      }),\n    }).then((res) => {\n      return this.checkResult(res);\n    });\n  }\n}\n\nconst api = new Api({\n  url: 'http://localhost:3001',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api; */\nexport const api = new Api({\n  url:'http://localhost:3002',\n  headers: {\n    'Content-Type': 'application/json',\n  },});\n//https://nomoreparties.co/v1/cohort-28 // d0022a9e-a6be-4d9a-ab6e-3949875c7c34"]},"metadata":{},"sourceType":"module"}