{"version":3,"sources":["images/success-icon.svg","images/fail-icon.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPopup.js","components/DeletePopup.js","utils/Api.js","components/auth.js","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.jsx","components/App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","props","react_default","a","createElement","className","emailUser","react_router_dom","to","nav","onClick","onLogout","navStatus","CurrentUserContext","React","createContext","Card","_ref","card","onCardClick","onCardLike","onCardDeleteClick","owner","link","name","likes","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","concat","isLiked","some","i","cardLikeButtonClassName","src","alt","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","id","about","map","post","key","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","buttonText","onSubmit","popupClass","formClass","method","EditProfilePopup","onEditUser","_React$useState","useState","_React$useState2","Object","slicedToArray","setName","_React$useState3","_React$useState4","setAbout","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPopup","onAddPost","setMesto","setLink","DeletePostPopup","onDeletePlace","api","Api","url","token","classCallCheck","this","checkResult","res","ok","json","Promise","reject","status","_url","_authorizationToken","_headers","authorization","Content-Type","fetch","headers","then","data","body","JSON","stringify","cardId","BASE_URL","register","email","password","Accept","response","catch","err","console","log","authorize","checkToken","Authorization","InfoTooltip","errorLogin","onClosePopup","success_icon","fail_icon","Register","_useState","_useState2","values","setValues","_useState3","isOpenLoginPopup","message","_useState4","infoPopup","setInfoPopup","navigate","useNavigate","handleChange","_e$target","prevState","objectSpread","defineProperty","handleSubmit","auth","openPopup","components_Header","Login","onLogin","localStorage","setItem","username","RequireAuth","loggedIn","react_router","App","setLoggedIn","userEmail","setUserEmail","location","useLocation","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setisAddCardPopupOpen","_React$useState5","_React$useState6","isAvatarProfilePopupOpen","setisAvatarProfilePopupOpen","_React$useState7","_React$useState8","selectedCard","setSelectedCard","_React$useState9","_React$useState10","isImagePopupOpenen","setIsImagePopupOpenen","closeAllPopups","setIsDeletePopupOpenen","_React$useState11","_React$useState12","setCurrentUser","getUserInfo","_React$useState13","_React$useState14","setCards","getInitialCards","_React$useState15","_React$useState16","isDeletePopupOpenen","handleTokenCheck","pathname","all","path","getItem","jwt","Provider","element","ProtectedRoute","evt","removeItem","components_Main","deleteLike","newCard","state","c","addLike","components_Footer","editProfile","addPlace","toConsumableArray","addAvatar","deletePost","filter","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.269302b6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/success-icon.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail-icon.4072126c.svg\";","import React from 'react';\nimport {useState} from 'react';\nimport { Link } from 'react-router-dom';\n \n function Header(props) {\n  return (\n    <header className=\"header\">\n        <div className=\"header__logo\"></div>\n        <div className=\"header__nav\">\n          \n          <div className=\"header__nav_right\">\n            <p className={'header__status header__email'}>{props.emailUser}</p> \n            <Link to={props.nav} className={'header__link header__status'} onClick={props.onLogout}>{props.navStatus}</Link>\n          </div>\n        </div>\n    </header>\n  );\n} \n\n\n  \nexport default Header;\n\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nexport default function Card({card, onCardClick, onCardLike, onCardDeleteClick}) {\n    const {owner, link, name, likes } = card;\n    const currentUser = React.useContext(CurrentUserContext);\n  /* const {\n    card: { link, name, likes }\n  } = props; */\n  const isOwn = owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `places__delete ${isOwn && 'places__delete_not-visible'}`;\n\n  const isLiked = likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `places__like ${\n    isLiked && 'places__like_active'}`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDeleteClick(card);\n  }\n  return(\n    <div className=\"places__card\">\n        <img \n        src={link}\n        alt={name} \n        className=\"places__image\" \n        onClick={handleClick}\n        />\n        <h2 className=\"places__title\">{name} </h2>\n        <div className=\"places__like-container\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n            <p className=\"places__like-number\">{likes.length}</p>\n        </div>\n        {/* <!-- <button type=\"button\" className=\"places__like\"></button> --> */}\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n    </div>\n  );\n}","import React from 'react';\n//import {api}  from '../utils/Api'\nimport Card from './Card'\nimport '../index.css';\n//////\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n//////\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDeleteClick, cards}) {\n  //////////////////////////////////////////\n  const currentUser = React.useContext(CurrentUserContext);\n  \n\n//////////////////////////////////////////\n  return (\n    <main>\n        <section className=\"profile\">\n            <div className=\"profile__avatar\"  onClick={onEditAvatar}>\n              <img src={currentUser.avatar} alt=\"avatar\" className=\"profile__foto-avatar\" />\n            </div>\n            <div className=\"profile__text-group\">\n                <div className=\"profile__title-box\">\n                    <h1 className=\"profile__title\">{currentUser.name }</h1>\n                    <button type=\"button\" className=\"profile__edit\" id=\"profE\" onClick={onEditProfile}></button>\n                </div>\n                <p className=\"profile__subtitle\">{currentUser.about }</p>\n            </div>\n            <button type=\"button\" className=\"profile__add\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"places\">\n          {cards.map((post) => (\n          <Card card={post}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDeleteClick={onCardDeleteClick}\n            key={post._id} />\n        ))}\n        </section>\n           \n    </main>\n\n  );\n}\n  \nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__author\">&copy; 2021. Иван Серов</p>\n    </footer>\n  );\n}\n  \nexport default Footer;","import React from \"react\";\n\nexport default function ImagePopup({ isOpen, card, onClose }) {\n    \n    return (\n        <div className={`popup popup_img ${isOpen && \"popup_opened\"}`} id=\"popup-image\">\n            <div className=\"popup__container\">\n                <button onClick={onClose} type=\"button\" className=\"popup__close\" id=\"popup-close-image\"></button>\n                <img \n                    src={card ? card.link : \"#\"}\n                    alt={card ? card.name : \"\"}\n                    className=\"popup__image\" />\n                <h2  className=\"popup__title popup__title_img\">\n                    {card ? card.name : \"\"}\n                </h2>\n            </div>\n    \n        </div>\n    );\n\n}","import React from \"react\";\n\nexport default function PopupWithForm({ name, title, children, isOpen, onClose, buttonText, onSubmit }) {\n\n  const popupClass = `popup ${isOpen && \"popup_opened\"}`;\n  const formClass = `popup__form popup__form_${name}`;\n  return (\n    <div className={popupClass} >\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n        <form className={formClass} method=\"POST\" name={name} onSubmit={onSubmit}>\n            <h2 className=\"popup__title\">{title}</h2>\n            {children}\n            \n            <button type=\"submit\" className=\"popup__save\">{buttonText}</button>\n        </form>\n        \n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onEditUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setAbout(currentUser.about || '');\n    \n  }, [currentUser, isOpen]);\n\n  function handleChangeInputName(e) {\n    setName(e.target.value);\n    \n  }\n\n  function handleChangeInputAbout(e) {\n    setAbout(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    onEditUser({\n      name,\n      about,\n    });\n  }\n  \n  return (\n    <PopupWithForm \n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    title=\"Редактировать профиль\"\n    buttonText=\"Сохранить\"\n  >\n        <input name=\"name\" \n            id=\"user\" \n            type=\"text\" \n            placeholder=\"Имя\" \n            className=\"popup__input popup__input_type_user\" \n            minLength=\"2\" \n            maxLength=\"40\" \n            required \n            value={name}\n            onChange={handleChangeInputName}\n            />\n        <span id=\"user-error\" className=\"error\"></span>\n        <input \n            name=\"about\" \n            id=\"user-information\" \n            type=\"text\" \n            placeholder=\"О себе\" \n            className=\"popup__input popup__input_type_user-information\" \n            minLength=\"2\" \n            maxLength=\"200\" \n            required \n            value={about}\n            onChange={handleChangeInputAbout}/>\n        <span id=\"user-information-error\" className=\"error\"></span>\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Обновить аватар\"\n        name= \"avatar\"\n        buttonText=\"Сохранить\"\n  >\n        <input \n            name=\"avatar\" \n            id=\"link-avatar\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            ref={avatarRef}\n            />\n        <span id=\"link-avatar-error\" className=\"error\"></span>\n\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPopup({ isOpen, onClose, onAddPost }) {\n  const [name, setMesto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeInputMesto(e) {\n    setMesto(e.target.value);\n  }\n\n  function handleChangeInputLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPost({\n      name,\n      link,\n    });\n\n    setMesto(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Новое место\"\n        buttonText=\"Создать\"\n    >\n        <input name=\"name\" \n            id=\"title-location\" \n            type=\"text\" \n            placeholder=\"Название\" \n            className=\"popup__input popup__input_type_title\" \n            minLength=\"2\" maxLength=\"30\" \n            required \n            value={name}\n            onChange={handleChangeInputMesto}/>\n        <span id=\"title-location-error\" className=\"error\"></span>\n        <input name=\"link\" \n            id=\"link-image\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            value={link}\n            onChange={handleChangeInputLink}/>\n        <span id=\"link-image-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function DeletePostPopup({\n  isOpen,\n  onClose,\n  card,\n  onDeletePlace,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n\n  return (\n    <PopupWithForm \n        \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Вы уверены?\"\n        name= \"delete\"\n        buttonText=\"Да\"\n    />\n  );\n}","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._authorizationToken = token;\n    this._headers ={authorization:this._authorizationToken, 'Content-Type': 'application/json'};\n  }\n  getUserInfo() {\n    return fetch(this._url +'/users/me', {\n      method: 'GET',\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  getInitialCards() {\n    return fetch(this._url +'/cards', {\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  editProfile(data){\n    return fetch(this._url +'/users/me', {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify(data)\n      })\n    .then(this.checkResult);\n  }\n  addPlace(data){\n    return fetch(this._url +'/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this.checkResult);\n  }\n  deletePost(cardId) {\n    return fetch(this._url + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  deleteLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addAvatar(avatar){\n    return fetch(this._url +'/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    })\n    .then(this.checkResult);\n  }\n  checkResult = res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n}\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28', 'd0022a9e-a6be-4d9a-ab6e-3949875c7c34');","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((response) => {\n    return response.json();\n  })\n  .then((res) => {\n    return res;\n  })\n  .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then(res => res.json())\n    .then(data => data)\n    .catch(err => console.log(err))\n  };\n\n  export const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n}","import React from 'react';\nimport success_icon from '../images/success-icon.svg';\nimport fail_icon from '../images/fail-icon.svg';\n\n\nexport default function InfoTooltip(props) {\n\n    if (props.errorLogin) { \n      return (\n        <section className=\"popup popup_login popup_opened\" >\n        <div className=\"popup__content\" >\n          <button className=\"popup__close_login\"  type=\"button\" onClick={props.onClosePopup}></button>\n          <img src={success_icon}  alt='Ok' className=\"popup__icon\" /> \n          <h3 className=\"popup__title popup__title_login\">Вы успешно зарегистрировались!</h3> \n        </div>\n        </section>\n      );\n     } else if (!props.errorLogin) {\n        return (\n          <section className=\"popup popup_login popup_opened\" >\n          <div className=\"popup__content\" >\n            <button className=\"popup__close_login\"  type=\"button\" onClick={props.onClosePopup}></button>\n            <img src={fail_icon} alt='error' className=\"popup__icon\" /> \n            <h3 className=\"popup__title popup__title_login\">Что-то пошло не так! Попробуйте еще раз</h3> \n          </div>\n          </section>\n        );\n    } else {\n        return (\n          <section className=\"popup popup_login\"></section>\n        );\n    }\n}\n","import React, { useState } from 'react';\nimport * as auth from '../components/auth';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport InfoTooltip from '../components/InfoTooltip';\n\n\nexport default function Register() {\n  const [values, setValues] = useState({\n    email: '',\n    password: ''\n  });\n\n  const [infoPopup, setInfoPopup] = useState({\n    isOpenLoginPopup: false,\n    errorLogin: false,\n    message: ''\n  });\n\n  const navigate = useNavigate();\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    auth\n        .register(\n          values.email,\n          values.password\n        )\n        .then((res) => {\n          if(res.data){\n            setInfoPopup({\n              message: 'Успешно зарегестрировались',\n              errorLogin: true,\n              isOpenLoginPopup: false\n            });\n            openPopup();\n          } else {\n            setInfoPopup({\n              message: 'Что-то пошло не так!',\n              errorLogin: false,\n              isOpenLoginPopup: false\n            });\n            openPopup();\n          }\n        });\n  };\n\n  const openPopup = () => {\n    setInfoPopup((prevState) => ({\n      ...prevState,\n      isOpenLoginPopup: true,\n    }));\n  }\n\n  const closePopup = () => {\n    setInfoPopup((prevState) => ({\n      ...prevState,\n      isOpenLoginPopup: false,\n    }));\n    if (infoPopup.errorLogin) navigate(\"/sign-in\");\n  };\n\n  return (\n    <div className=\"register\">\n        <Header nav={'/sign-in'} navStatus={'Войти'} emailUser={''}/>\n        <h1 className=\"register__welcome\">Регистрация</h1>\n        <form onSubmit={handleSubmit} className=\"register__form\">\n          <input id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" className=\"register__input\"\n                 value={values.email} onChange={handleChange} />\n          <input id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"register__input\"\n                 value={values.password} onChange={handleChange} />\n            \n          <button type=\"submit\" className=\"register__link\" onSubmit={handleSubmit}>Зарегистрироваться</button>\n          \n          \n        </form>\n        <div className=\"register__signin\">\n          <p className=\"register__login-text\">Уже зарегестрированы?</p>\n          <Link to=\"/sign-in\" className=\"register__login-link\">Войти</Link>\n        </div>\n        {(infoPopup.isOpenLoginPopup) && <InfoTooltip  errorLogin={infoPopup.errorLogin} onClosePopup={closePopup}/> }\n      </div>\n  );\n  //////<div className=\"register__button-container\">\n  ///<button type=\"submit\" className=\"register__link\" onSubmit={handleSubmit}>Зарегистрироваться</button>\n  ///</div>\n}","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from '../components/Header';\nimport * as auth from '../components/auth';\nimport InfoTooltip from '../components/InfoTooltip';\n\n\nexport default function Login({ onLogin }) {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  ///////////\n  const [infoPopup, setInfoPopup] = useState({\n    isOpenLoginPopup: false,\n    errorLogin: false,\n    message: ''\n  });\n  ///////////\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!values.email || !values.password) {\n      return;\n    }\n    auth\n      .authorize(values.email, values.password)\n      .then((res) => {\n        if (res.token) {\n          setValues({\n            email: \"\",\n            password: \"\",\n          })\n          localStorage.setItem('jwt', res.token);\n          onLogin(values.email);  // обновляем стейт внутри App.js\n          navigate(\"/\"); // и переадресуем пользователя! \n        }\n        ////////////\n        else {\n          setInfoPopup({\n            message: 'Что-то пошло не так!',\n            errorLogin: false,\n            isOpenLoginPopup: false\n          });\n          openPopup();\n        }\n        /////////////\n      })\n      .catch((err) => console.log(err));\n  };\n////////////////////////////\n  const openPopup = () => {\n    setInfoPopup((prevState) => ({\n      ...prevState,\n      isOpenLoginPopup: true,\n    }));\n  }\n\n  const closePopup = () => {\n    setInfoPopup((prevState) => ({\n      ...prevState,\n      isOpenLoginPopup: false,\n    }));\n    if (infoPopup.errorLogin) navigate(\"/sign-up\");\n  };\n/////////////////////////////////\n\n  return (\n    <div className=\"login\">\n        <Header nav={'/sign-up'} navStatus={'Регистрация'} emailUser={''}/>\n        <p className=\"login__welcome\">\n          Вход\n        </p>\n        <form onSubmit={handleSubmit} className=\"login__form\">\n          <input id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" className=\"login__input\"\n                 value={values.username} onChange={handleChange} />\n          <input required id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"login__input\"\n                 value={values.password} onChange={handleChange} />\n          <button type=\"submit\" className=\"login__link\" onSubmit={handleSubmit}>Войти</button>\n          {(infoPopup.isOpenLoginPopup) && <InfoTooltip  errorLogin={infoPopup.errorLogin} onClosePopup={closePopup}/> }\n        </form>\n      </div>\n  )\n  ////<div className=\"login__button-container\">\n  //<button type=\"submit\" className=\"login__link\" onSubmit={handleSubmit}>Войти</button>\n  //</div>\n  ///\n  //\n}\n","import React from 'react';\nimport {Navigate } from \"react-router-dom\";\n\nconst RequireAuth = ({ loggedIn, children  }) => {\n  return loggedIn ? children : <Navigate to=\"/sign-in\" />\n  }\n\nexport default RequireAuth;","import React, { useEffect, useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\n////////////////\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport { Route, Routes, useNavigate, useLocation } from 'react-router-dom';\nimport {api}  from '../utils/Api'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n///////1/////////\nimport Register from '../components/Register';\nimport Login from '../components/Login';\nimport RequireAuth from './ProtectedRoute';\nimport * as auth from '../components/auth';\n\nfunction App() {\n  ///////////1//////////////////////////////////\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n\n\n  ////////////////////////////////////////////\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n  }\n  ////////////////////////////////////////////\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  \n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  ///////////////////////////////////////////\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    }\n    \n  } \n////////////////\n  function handleEditUser(data) {\n  \n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        //console.log(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .addAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlace(data) {\n    api\n      .addPlace(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    ////\n\n    ////\n    setSelectedCard(card);\n  }\n  function handleDeletePlace(card) {\n    api\n      .deletePost(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n/////////////1/////////////\n  useEffect(() => {\n    handleTokenCheck(location.pathname);\n  // запрос в API за пользовательскими данными\n    Promise.all([ \n      api.getUserInfo(),\n      api.getInitialCards()\n    ])\n    .then((res) => {\n      setCurrentUser(res[0]);\n      setCards(res[1])\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    })\n  }, []);\n\n  const handleTokenCheck = (path) => {\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\");\n    // проверяем токен пользователя\n      auth.checkToken(jwt).then((res) => {\n        if (res) {\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          navigate(path);\n        }\n      });\n    }\n  };\n\n  const handleLogin = (email) => {\n    setLoggedIn(true);\n    setUserEmail(email);\n  };\n\n  const handleLogout= (evt) => {\n    evt.preventDefault();\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setUserEmail('');\n    navigate('/sign-in')\n  }\n//////////////////////////\n\n  \n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <RequireAuth loggedIn={loggedIn}>\n              <div>\n                <Header \n                nav={'/sign-in'}\n                navStatus={'Выйти'} \n                emailUser={userEmail} \n                onLogout={handleLogout} \n                \n                loggedIn={loggedIn} \n                />\n                <Main \n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddCardClick}\n                  onEditAvatar={handleAvatarProfileClick}\n                  onCardClick={handleCardClick}\n                  onCardLike={handleCardLike}\n                  onCardDeleteClick={handleCardDeleteClick}\n                  cards={cards}\n                  \n                />  \n                <Footer />\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onEditUser={handleEditUser}\n                />\n                <AddPopup\n                    isOpen={isAddCardPopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPost={handleAddPlace}\n                  />\n                <EditAvatarPopup\n                    isOpen={isAvatarProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n                <ImagePopup \n                  isOpen={isImagePopupOpenen}\n                  card={selectedCard}\n                  onClose={closeAllPopups}\n                />\n                <DeletePopup\n                    isOpen={isDeletePopupOpenen}\n                    onClose={closeAllPopups}\n                    card={selectedCard}\n                    onDeletePlace={handleDeletePlace}\n                  />\n              </div>\n            </RequireAuth>\n          }\n        />\n        <Route path=\"/sign-up\" element={<Register/>} />\n        <Route path=\"/sign-in\" element={<Login onLogin={handleLogin}/>} />\n      </Routes>\n      \n        \n      {/*  <div>\n                <Header />\n      <Main \n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddCardClick}\n        onEditAvatar={handleAvatarProfileClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDeleteClick={handleCardDeleteClick}\n        cards={cards}\n      />\n      <Footer />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onEditUser={handleEditUser}\n      />\n      <AddPopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPost={handleAddPlace}\n        />\n      <EditAvatarPopup\n          isOpen={isAvatarProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n      />\n      <ImagePopup \n        isOpen={isImagePopupOpenen}\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <DeletePopup\n          isOpen={isDeletePopupOpenen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          onDeletePlace={handleDeletePlace}\n        />\n                </div> */}\n      {/* </Routes> */}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {\n  BrowserRouter\n} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n     <BrowserRouter> \n      <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}